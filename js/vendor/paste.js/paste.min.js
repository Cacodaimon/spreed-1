/**
 * Minified by jsDelivr using UglifyJS v3.4.0.
 * Original file: /npm/paste.js@0.0.21/paste.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(){var l,a,i,o,n;(l=window.jQuery).paste=function(t){return"undefined"!=typeof console&&null!==console&&console.log("DEPRECATED: This method is deprecated. Please use $.fn.pastableNonInputable() instead."),a.mountNonInputable(t)._container},l.fn.pastableNonInputable=function(){var t,e,n;for(e=0,n=this.length;e<n;e++)(t=this[e])._pastable||l(t).is("textarea, input:text, [contenteditable]")||(a.mountNonInputable(t),t._pastable=!0);return this},l.fn.pastableTextarea=function(){var t,e,n;for(e=0,n=this.length;e<n;e++)(t=this[e])._pastable||l(t).is(":not(textarea, input:text)")||(a.mountTextarea(t),t._pastable=!0);return this},l.fn.pastableContenteditable=function(){var t,e,n;for(e=0,n=this.length;e<n;e++)(t=this[e])._pastable||l(t).is(":not([contenteditable])")||(a.mountContenteditable(t),t._pastable=!0);return this},o=function(t,e){var n,a,r,o,i,s,l,u,c,f,g;if(null==e&&(e=512),!(u=t.match(/^data\:([^\;]+)\;base64\,(.+)$/)))return null;for(u=(f=u)[0],s=f[1],n=f[2],o=atob(n),r=[],c=0;c<o.length;){for(g=o.slice(c,c+e),i=new Array(g.length),l=0;l<g.length;)i[l]=g.charCodeAt(l),l++;a=new Uint8Array(i),r.push(a),c+=e}return new Blob(r,{type:s})},i=function(){return l(document.createElement("div")).attr("contenteditable",!0).attr("aria-hidden",!0).attr("tabindex",-1).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden"})},n=function(t,e){var n,a,r,o,i,s;return n=a=r=i=o=void 0,"area"===(s=t.nodeName.toLowerCase())?(i=(o=t.parentNode).name,!(!t.href||!i||"map"!==o.nodeName.toLowerCase())&&(0<(r=l("img[usemap='#"+i+"']")).length&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(s)?(a=!t.disabled)&&(n=l(t).closest("fieldset")[0])&&(a=!n.disabled):a="a"===s&&t.href||e,(a=a||l(t).is("[contenteditable]"))&&l(t).is(":visible"))},a=function(){function r(t,e){var p;this._container=t,this._target=e,this._container=l(this._container),this._target=l(this._target).addClass("pastable"),this._container.on("paste",(p=this,function(t){var e,n,a,r,o,i,s,l,u,c,f,g,d;if(t.currentTarget!==t.target)return t.preventDefault();if(p._paste_event_fired=!0,null!=(null!=(u=t.originalEvent)?u.clipboardData:void 0))if((e=t.originalEvent.clipboardData).items)for(r=0,i=(c=e.items).length;r<i;r++){if((a=c[r]).type.match(/^image\//)){(l=new FileReader).onload=function(t){return p._handleImage(t.target.result)};try{l.readAsDataURL(a.getAsFile())}catch(t){}t.preventDefault();break}"text/plain"===a.type&&a.getAsString(function(t){return p._target.trigger("pasteText",{text:t})})}else-1!==Array.prototype.indexOf.call(e.types,"text/plain")&&(d=e.getData("Text"),setTimeout(function(){return p._target.trigger("pasteText",{text:d})},1)),p._checkImagesInContainer(function(t){return p._handleImage(t)});if(e=window.clipboardData)if(null!=(f=d=e.getData("Text"))?f.length:void 0)setTimeout(function(){return p._target.trigger("pasteText",{text:d}),p._target.trigger("_pasteCheckContainerDone")},1);else{for(o=0,s=(g=e.files).length;o<s;o++)n=g[o],p._handleImage(URL.createObjectURL(n));p._checkImagesInContainer(function(t){})}return null}))}return r.prototype._target=null,r.prototype._container=null,r.mountNonInputable=function(t){var e;return e=new r(i().appendTo(t),t),l(t).on("click",function(t){if(!n(t.target,!1))return e._container.focus()}),e._container.on("focus",function(){return l(t).addClass("pastable-focus")}),e._container.on("blur",function(){return l(t).removeClass("pastable-focus")})},r.mountTextarea=function(o){var n,a,t,e;return("undefined"!=typeof DataTransfer&&null!==DataTransfer?DataTransfer.prototype:void 0)&&(null!=(t=Object.getOwnPropertyDescriptor)&&null!=(e=t.call(Object,DataTransfer.prototype,"items"))?e.get:void 0)?this.mountContenteditable(o):(a=new r(i().insertBefore(o),o),n=!1,l(o).on("keyup",function(t){var e;return 17!==(e=t.keyCode)&&224!==e||(n=!1),null}),l(o).on("keydown",function(t){var e;return 17!==(e=t.keyCode)&&224!==e||(n=!0),null!=t.ctrlKey&&null!=t.metaKey&&(n=t.ctrlKey||t.metaKey),n&&86===t.keyCode&&(a._textarea_focus_stolen=!0,a._container.focus(),a._paste_event_fired=!1,setTimeout(function(){if(!a._paste_event_fired)return l(o).focus(),a._textarea_focus_stolen=!1},1)),null}),l(o).on("paste",function(){}),l(o).on("focus",function(){if(!a._textarea_focus_stolen)return l(o).addClass("pastable-focus")}),l(o).on("blur",function(){if(!a._textarea_focus_stolen)return l(o).removeClass("pastable-focus")}),l(a._target).on("_pasteCheckContainerDone",function(){return l(o).focus(),a._textarea_focus_stolen=!1}),l(a._target).on("pasteText",function(t,e){var n,a,r;return r=l(o).prop("selectionStart"),a=l(o).prop("selectionEnd"),n=l(o).val(),l(o).val(""+n.slice(0,r)+e.text+n.slice(a)),l(o)[0].setSelectionRange(r+e.text.length,r+e.text.length),l(o).trigger("change")}))},r.mountContenteditable=function(t){return new r(t,t),l(t).on("focus",function(){return l(t).addClass("pastable-focus")}),l(t).on("blur",function(){return l(t).removeClass("pastable-focus")})},r.prototype._handleImage=function(t){var a,r,e;return t.match(/^webkit\-fake\-url\:\/\//)?this._target.trigger("pasteImageError",{message:"You are trying to paste an image in Safari, however we are unable to retieve its data."}):((a=new Image).crossOrigin="anonymous",a.onload=(r=this,function(){var t,e,n;(e=document.createElement("canvas")).width=a.width,e.height=a.height,e.getContext("2d").drawImage(a,0,0,e.width,e.height),n=null;try{n=e.toDataURL("image/png"),t=o(n)}catch(t){}if(n)return r._target.trigger("pasteImage",{blob:t,dataURL:n,width:a.width,height:a.height})}),a.onerror=(e=this,function(){return e._target.trigger("pasteImageError",{message:"Failed to get image from: "+t,url:t})}),a.src=t)},r.prototype._checkImagesInContainer=function(a){var r,t,e,n,o,i;for(o=Math.floor(1e3*Math.random()),t=0,e=(n=this._container.find("img")).length;t<e;t++)(r=n[t])["_paste_marked_"+o]=!0;return setTimeout((i=this,function(){var t,e,n;for(t=0,e=(n=i._container.find("img")).length;t<e;t++)(r=n[t])["_paste_marked_"+o]||(a(r.src),l(r).remove());return i._target.trigger("_pasteCheckContainerDone")}),1)},r}()}).call(this);
//# sourceMappingURL=/sm/dcb91c8e9eb059f079cebe082ba2cee2e20d022c54d4676d84d3d0e1fc0d76ed.map